<div class="container py-5">

  <div id="alerta"
       class="alert alert-dismissible fade"
       [ngClass]="{
         'alert-success': alertaTipo === 'success',
         'alert-danger': alertaTipo === 'danger'
       }"
       role="alert"
       style="position: fixed; top: 20px; right: 20px; z-index: 1050;">
    {{ alertaMensagem }}
  </div>

  <div class="card shadow-lg border-0 rounded-4">
    <div class="card-header bg-primary text-white d-flex justify-content-between align-items-center rounded-top-4">
      <div class="d-flex align-items-center gap-2">
        <h3 class="m-0">ğŸ“’ Minha Agenda</h3>
        <button class="btn btn-outline-light btn-sm" (click)="alternarTema()">
          {{ temaEscuro ? 'ğŸŒ' : 'ğŸŒ™' }}
        </button>
      </div>
      <button class="btn btn-light fw-bold" (click)="abrirModal()">+ Novo Contato</button>
    </div>

    <div class="card-body bg-light">
      <h5 class="mb-4 text-secondary">Lista de Contatos</h5>

      <table class="table table-striped table-hover align-middle rounded">
        <thead class="table-dark">
          <tr>
            <th>Nome</th>
            <th>Email</th>
            <th>Telefone</th>
            <th class="text-center">AÃ§Ãµes</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let contato of contatos; index as i">
            <td>{{ contato.nome }}</td>
            <td>{{ contato.email }}</td>
            <td>{{ contato.telefone }}</td>
            <td class="text-center">
              <button class="btn btn-danger btn-sm px-3" (click)="removerContato(i)">
                ğŸ—‘ï¸ Excluir
              </button>
            </td>
          </tr>
        </tbody>
      </table>

      <p *ngIf="contatos.length === 0" class="text-center text-muted mt-4">
        Nenhum contato adicionado ainda.
      </p>
    </div>
  </div>
</div>

<div class="modal fade" id="novoContatoModal" tabindex="-1">
  <div class="modal-dialog">
    <div class="modal-content rounded-4 shadow">
      <div class="modal-header bg-primary text-white">
        <h5 class="modal-title">Novo Contato</h5>
        <button type="button" class="btn-close btn-close-white" (click)="fecharModal()"></button>
      </div>
      <div class="modal-body">
        <form>
          <div class="mb-3">
            <label class="form-label">Nome</label>
            <input type="text" class="form-control" [(ngModel)]="novo.nome" name="nome">
          </div>
          <div class="mb-3">
            <label class="form-label">E-mail</label>
            <input type="email" class="form-control" [(ngModel)]="novo.email" name="email">
          </div>
          <div class="mb-3">
            <label class="form-label">Telefone</label>
            <input type="text" class="form-control" [(ngModel)]="novo.telefone" name="telefone">
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button class="btn btn-secondary" (click)="fecharModal()">Cancelar</button>
        <button class="btn btn-success" (click)="adicionarContato()">Salvar</button>
      </div>
    </div>
  </div>
</div>
